package {{package}}.mcp.tools;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;
import reactor.test.StepVerifier;

/**
 * Unit tests for ExampleTool.
 */
class ExampleToolTest {

  private ExampleTool exampleTool;

  @BeforeEach
  void setUp() {
    exampleTool = new ExampleTool();
  }

  @Test
  void testEcho() {
    String message = "Hello MCP";
    Mono<String> result = exampleTool.echo(message);
    
    StepVerifier.create(result)
        .expectNext("Echo: " + message)
        .verifyComplete();
  }

  @Test
  void testEchoWithEmptyMessage() {
    Mono<String> result = exampleTool.echo("");
    
    StepVerifier.create(result)
        .expectNext("Error: Message cannot be empty")
        .verifyComplete();
  }

  @Test
  void testAdd() {
    Mono<Integer> result = exampleTool.add(5, 3);
    
    StepVerifier.create(result)
        .expectNext(8)
        .verifyComplete();
  }

  @Test
  void testAddNegativeNumbers() {
    Mono<Integer> result = exampleTool.add(-5, -3);
    
    StepVerifier.create(result)
        .expectNext(-8)
        .verifyComplete();
  }
}
